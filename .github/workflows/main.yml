name: CI Mentoria

#gatilhos
on:
  workflow_dispatch:

jobs: 
  tests: 


  # [config do so] (windows/linux/mac, chrome/firefox/edge, ...)
  runs-on: ubuntu-latest

  # [variaveis] (variáveis de ambiente, chaves de acesso a plataformas, etc.)
  env:
    API_BASE_URL: 'http://localhost:3000'
    PORT: 4000
    
  # [ações ou passos]
  steps: 
  
    -name: Checkout do Repositório
     uses: actions/checkout@v4

    -name: Instalando as dependências
     run: npm install
              
    -name: Iniciar o servidor de mocks
     run: npm run mock-server &
        
    -name: Iniciar o servidor de aplicação
     run: npm run server &
               
    -name: Rodar o cypress
     run: npx cypress open        

        
    
  
